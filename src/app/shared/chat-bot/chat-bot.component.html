<!-- زر الشات -->
<!-- زر الشات دايمًا ظاهر -->
<div class="fixed bottom-6 right-6 z-50">
    <button (click)="toggleChat()"
        class="bg-[#1a4d5f] text-white p-4 rounded-full shadow-lg hover:bg-[#163b4a] transition flex items-center justify-center">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M17 2H7C4.24 2 2 4.23 2 6.98V12.96V13.96C2 16.71 4.24 18.94 7 18.94H8.5C8.77 18.94 9.13 19.12 9.3 19.34L10.8 21.33C11.46 22.21 12.54 22.21 13.2 21.33L14.7 19.34C14.89 19.09 15.19 18.94 15.5 18.94H17C19.76 18.94 22 16.71 22 13.96V6.98C22 4.23 19.76 2 17 2ZM13 13.75H7C6.59 13.75 6.25 13.41 6.25 13C6.25 12.59 6.59 12.25 7 12.25H13C13.41 12.25 13.75 12.59 13.75 13C13.75 13.41 13.41 13.75 13 13.75ZM17 8.75H7C6.59 8.75 6.25 8.41 6.25 8C6.25 7.59 6.59 7.25 7 7.25H17C17.41 7.25 17.75 7.59 17.75 8C17.75 8.41 17.41 8.75 17 8.75Z"
                fill="white" />
        </svg>
    </button>

    <!-- نافذة الشات -->
    <div *ngIf="isChatOpen" @chatAnimation class="absolute bottom-16 right-0 w-80 
              backdrop-blur-md rounded-xl 
              shadow-xl border border-white/20 
              flex flex-col">
    
        <!-- الهيدر -->
        <div class="bg-[#1a4d5f]/70 backdrop-blur-md text-white px-4 py-3 rounded-t-xl flex justify-between items-center">
            <span class="font-medium">Live Chat</span>
            <button (click)="toggleChat()" class="text-white hover:text-gray-200">✕</button>
        </div>
    
        <!-- الرسائل -->
        <div class="p-4 h-64 overflow-y-auto text-sm flex flex-col gap-2">
            <!-- رسالة البوت على الشمال -->
            <div class="bg-white/60 backdrop-blur-sm p-2 rounded-lg self-start w-fit max-w-[70%] shadow">
                Hello! How can I help you?
            </div>
            <!-- رسالة المستخدم على اليمين -->
            <div class="bg-[#1a4d5f]/70 text-white p-2 rounded-lg self-end w-fit max-w-[70%] shadow">
                Hi, I have a question.
            </div>
        </div>
    
        <!-- إدخال رسالة -->
        <div class="p-3 border-t border-white/20 flex items-center gap-2 backdrop-blur-sm bg-white/20">
            <input type="text" [(ngModel)]="newMessage" placeholder="Type a message..."
                class="flex-1 px-3 py-2 text-sm border border-gray-300/40 rounded-lg bg-white/40 backdrop-blur-sm focus:ring-2 focus:ring-[#1a4d5f] focus:outline-none">
            <button (click)="sendMessage()"
                class="bg-[#1a4d5f]/80 text-white px-4 py-2 rounded-lg hover:bg-[#1a4d5f] transition text-sm">
                Send
            </button>
        </div>
    </div>

</div>